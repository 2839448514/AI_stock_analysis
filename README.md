# AI_stock_analysis
一个本地化ai分析股票趋势
了解了！如果是本地运行 `Ollama` 模型的情况下，我们可以稍微调整一下 `README.md`，包括一些关于如何设置本地环境和运行的细节。以下是针对本地 `Ollama` 部署的更新版本：


# AI 股票助手

这是一个基于Python的AI股票助手，能够通过实时数据获取、技术分析以及市场情绪分析为用户提供股票投资建议。程序整合了股市行情、技术指标、资金流向和机构评级等多维数据，并结合AI生成的专业分析，帮助用户更好地了解股票的市场状况。

## 功能

- 获取股票的实时行情信息，包括最新价、涨跌幅、成交量、换手率等。
- 获取历史K线数据并计算技术指标（如MA5、量比、振幅等）。
- 分析市场情绪，包括换手率、主力资金流向、价格波动等。
- 基于实时数据和技术分析生成专业的投资建议（买入区间、目标价、止损价等）。
- 支持用户输入股票代码并根据输入生成相关分析。
- 提供详细的风控建议，帮助用户识别主要风险点。

## 环境要求

- Python 3.6及以上
- 安装以下依赖包：

```bash
pip install akshare ollama Drission akshare numpy
```

## 设置本地Ollama

本项目使用了 `Ollama` 模型来生成股票分析建议。如果你希望在本地运行 `Ollama`，请确保你的计算机已经安装了并且配置了本地 `Ollama` 模型。以下是一些配置和使用的步骤：

### 1. 安装Ollama本地环境

请访问 [Ollama官网](https://ollama.com) 下载并安装Ollama客户端。安装完成后，请确保 `ollama` 命令可以在终端中访问。

### 2. 配置Ollama模型

本项目使用的 `Ollama` 模型是 `deepseek-r1:14b`。确保你已经安装并能使用该模型。可以通过以下命令确认本地是否安装了 `deepseek-r1:14b` 模型：

```bash
ollama models list
```

如果没有安装该模型，请使用以下命令下载：

```bash
ollama pull deepseek-r1:14b
```


### 3. 运行程序

在本地配置好 `Ollama` 模型之后，可以直接运行程序：

```bash
python ai_stock_helper.py
```

## 使用说明

1. 运行程序：启动AI股票助手程序后，输入股票相关问题，程序将根据输入生成分析报告。
2. 输入股票代码：支持A股市场的股票代码（如：000001、600000）。输入时可以省略前缀（如`sz`、`sh`），程序会自动识别并处理。
3. 输入其他问题：如果用户输入的是股票相关的非代码问题，程序会给出通用的回答和分析。

## 示例

### 示例1：查询股票实时行情

用户输入：`请输入问题: 600000`

输出：

```
Assistant: 股票：浦发银行（600000）
最新价：10.25元
涨跌幅：+2.34%
换手率：1.5%
...
```

### 示例2：查询股票分析

用户输入：`请输入问题: 000001`

输出：

```
Assistant: 作为专业的股票分析师，基于以下数据进行深入分析：

【基础行情与技术面】
股票：平安银行(000001)
最新价：12.45元
涨跌幅：+0.85%
换手率：3.2%
市盈率：15.6
...

【市场情绪】
换手率较高，市场交投活跃
主力资金呈净流入状态
近期股价波动较大，变动幅度2.54%
...
```

